/*!
 * guide v1.0.0
 * author: xuesh
 * Date: Fri, 03 Dec 2021 02:26:28 GMT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).guide=e()}(this,(function(){"use strict";var t="1.0.0",e={nextLabel:"下一步",nextclass:"",prevLabel:"上一步",prevclass:"",skipLabel:"跳过",skipclass:"",doneLabel:"完成",doneclass:"",confirmtipPosition:"bottom",confirmtipClass:"",overlayOpacity:".7",animation:!1,width:200,height:200};let s={};const i=(t,e)=>{s[t]||(s[t]=[]),s[t].push(e)},n=(...t)=>{var e=Array.prototype.shift.call(t),i=s[e];if(console.log(i),!i||0===i.length)return!1;for(var n,o=0;n=i[o++];)n.apply(void 0,arguments)},o=["width","height","left","right","top","bottom"],l=(t,e)=>{if(!e)return;let s="";return t.style.cssText&&(s+=t.style.cssText),"string"==typeof e?s+=e:Object.keys(e).forEach((t=>{o.indexOf(t)>=0&&!isNaN(e[t])?s+=`${t}:${e[t]}px;`:s+=`${t}:${e[t]};`})),t.style.cssText=s,t},r=(t,e)=>{let s=document.createElement(t);e=e||{};for(const t in e){let i=e[t];"style"===t?l(s,i):s.setAttribute(t,i)}return s},a=t=>{let e={style:t,class:"guide-overlayer"};return r("div",e)},d=function(t,e){let s={style:t,class:"guide-step-target"};const i=r("div",s);return i.innerHTML=c.call(this,e),i},c=function(t){return`\n\t<div class="guide-tooltip guide-tooltip-${t}" style="">\n\t    <div class="guide-joints">\n\t    </div>\n\t    <div class="guide-tooltip-main">\n\t        <div class="guide-container"></div>\n\t        <div class="guide-button-box">\n\t            <div class="guide-button guide-next-button ${this.nextclass}">${this.nextLabel}</div>\n\t            <div class="guide-button guide-prev-button ${this.prevclass}">${this.prevLabel}</div>\n\t            <div class="guide-button guide-skip-button ${this.skipclass}">${this.skipLabel}</div>\n\t            <div class="guide-button guide-done-button ${this.doneclass}">${this.doneLabel}</div>\n\t        </div>\n\t    </div>\n\t</div>\n\t`};class p{constructor(s){this.version=t,this.steps=null,this.activeSteps={},this.overlayer=null,this.setOptions(e),this.setOptions(s)}setOption(t,e){if(t)return this[t]=e,this}setOptions(t){if(t)return Object.keys(t).forEach((e=>{this.setOption(e,t[e])})),this}start(t){if(this.steps&&0!==this.steps?.length)return this._createOverlayer(),this.setStepsState(t,!0),this._createGuideStepBox(t),this.body.appendChild(this.activeSteps[t].element),this}setStepsState(t,e){const s=this.steps[t];e?(this.activeSteps[t]={stepNumber:-1,steps:s},i(t,(()=>{console.log(111111,arguments)})),this.setStepsNumber(t,0)):(this._removeGuideStepBox(t),delete this.activeSteps[t],i(t))}setStepsNumber(t,e){const s=this.activeSteps[t];s&&(s.stepNumber=e||-1,n(t,e))}_createOverlayer(){this.overlayer||(this.overlayer=a({display:"none"}),this.body||(this.body=document.getElementsByTagName("body")[0]),this.body.appendChild(this.overlayer))}_removeOverlayer(){this.overlayer?.remove(),this.overlayer=null}_createGuideStepBox(t){if(!t)return void console.error("缺少 step name");const e=d.call(this,{display:"none"},t);this.activeSteps[t].element=e}_removeGuideStepBox(t){t?this.activeSteps[t]?.element?.remove():console.error("缺少 step name")}}return p}));
