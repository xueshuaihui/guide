/*!
 * guide v1.0.0
 * author: xuesh
 * Date: Thu, 02 Dec 2021 06:13:33 GMT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).guide=e()}(this,(function(){"use strict";var t={nextLabel:"下一步",nextclass:"",prevLabel:"上一步",prevclass:"",skipLabel:"跳过",skipclass:"",doneLabel:"完成",doneclass:"",confirmtipPosition:"bottom",confirmtipClass:"",overlayOpacity:".7",animation:!1,width:200,height:200};const e=["width","height","left","right","top","bottom"],s=(t,s)=>{if(!s)return;let i="";return t.style.cssText&&(i+=t.style.cssText),"string"==typeof s?i+=s:Object.keys(s).forEach((t=>{e.indexOf(t)>=0&&!isNaN(s[t])?i+=`${t}:${s[t]}px;`:i+=`${t}:${s[t]};`})),t.style.cssText=i,t},i=(t,e)=>{let i=document.createElement(t);e=e||{};for(const t in e){let n=e[t];"style"===t?s(i,n):i.setAttribute(t,n)}return i},n=function(t,e){let s={style:t,class:"guide-step-target"};const n=i("div",s);return n.innerHTML=o.call(this,e),n},o=function(t){return`\n\t<div class="guide-tooltip guide-tooltip-${t}" style="">\n\t    <div class="guide-joints">\n\t    </div>\n\t    <div class="guide-tooltip-main">\n\t        <div class="guide-container"></div>\n\t        <div class="guide-button-box">\n\t            <div class="guide-button guide-next-button ${this.nextclass}">${this.nextLabel}</div>\n\t            <div class="guide-button guide-prev-button ${this.prevclass}">${this.prevLabel}</div>\n\t            <div class="guide-button guide-skip-button ${this.skipclass}">${this.skipLabel}</div>\n\t            <div class="guide-button guide-done-button ${this.doneclass}">${this.doneLabel}</div>\n\t        </div>\n\t    </div>\n\t</div>\n\t`};return class{constructor(e){this.version="1.0.0",this.steps=null,this.activeSteps={},this.overlayer=null,this.setOptions(t),this.setOptions(e)}setOption(t,e){if(t)return this[t]=e,this}setOptions(t){if(t)return Object.keys(t).forEach((e=>{this.setOption(e,t[e])})),this}start(t){if(this.steps&&0!==this.steps?.length)return this._createOverlayer(),this.setStepsState(t,!0),this._createGuideStepBox(t),this.body.appendChild(this.activeSteps[t].element),this}setStepsState(t,e){const s=this.steps[t];e?this.activeSteps[t]={stepNumber:0,steps:s}:(this._removeGuideStepBox(t),delete this.activeSteps[t])}_createOverlayer(){this.overlayer||(this.overlayer=i("div",{style:{display:"none"},class:"guide-overlayer"}),this.body||(this.body=document.getElementsByTagName("body")[0]),this.body.appendChild(this.overlayer))}_removeOverlayer(){this.overlayer?.remove(),this.overlayer=null}_createGuideStepBox(t){if(!t)return void console.error("缺少 step name");const e=n.call(this,{display:"none"},t);this.activeSteps[t].element=e}_removeGuideStepBox(t){t?this.activeSteps[t]?.element?.remove():console.error("缺少 step name")}}}));
